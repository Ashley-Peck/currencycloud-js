var nock = require('nock');

nock('https://devapi.currencycloud.com:443')
  .post('/v2/authenticate/api', {
    "login_id": "development@currencycloud.com",
    "api_key": "deadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef"
  })
  .reply(200, {"auth_token": "96e1b2f53272528b6c8ced944704fd18"});

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "4a709856-2f20-472d-8ebf-9f2826cec174",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-ZGBRYR",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:10+00:00",
    "updated_at": "2017-10-27T19:53:11+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "15f75bad-2176-42b3-a3a5-a6f561c7a849",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:11+00:00",
    "updated_at": "2017-10-27T19:53:12+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "4a709856-2f20-472d-8ebf-9f2826cec174",
    "beneficiary_id": "15f75bad-2176-42b3-a3a5-a6f561c7a849"
  })
  .reply(200, {
    "id": "a13df79f-6e1c-4427-b2cc-614547c5486a",
    "amount": "10000.00",
    "beneficiary_id": "15f75bad-2176-42b3-a3a5-a6f561c7a849",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-ZGBRYR001",
    "conversion_id": "4a709856-2f20-472d-8ebf-9f2826cec174",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:13+00:00",
    "updated_at": "2017-10-27T19:53:13+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "e204e1da-0ed2-4098-b1d2-9a67f531ab32",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-CMCRZC",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:13+00:00",
    "updated_at": "2017-10-27T19:53:14+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "236c6192-cd4c-47e8-8d27-230455a3b6a3",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:15+00:00",
    "updated_at": "2017-10-27T19:53:15+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "e204e1da-0ed2-4098-b1d2-9a67f531ab32",
    "beneficiary_id": "236c6192-cd4c-47e8-8d27-230455a3b6a3"
  })
  .reply(200, {
    "id": "c365b1b2-0451-40cb-a87a-2a299ba7c4ed",
    "amount": "10000.00",
    "beneficiary_id": "236c6192-cd4c-47e8-8d27-230455a3b6a3",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-CMCRZC001",
    "conversion_id": "e204e1da-0ed2-4098-b1d2-9a67f531ab32",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:16+00:00",
    "updated_at": "2017-10-27T19:53:16+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .get('/v2/payments/c365b1b2-0451-40cb-a87a-2a299ba7c4ed')
  .reply(200, {
    "id": "c365b1b2-0451-40cb-a87a-2a299ba7c4ed",
    "amount": "10000.00",
    "beneficiary_id": "236c6192-cd4c-47e8-8d27-230455a3b6a3",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-CMCRZC001",
    "conversion_id": "e204e1da-0ed2-4098-b1d2-9a67f531ab32",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:16+00:00",
    "updated_at": "2017-10-27T19:53:16+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-ZMNZZB",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:17+00:00",
    "updated_at": "2017-10-27T19:53:17+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "16d351fb-94ba-4c75-b554-49c793d69459",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:18+00:00",
    "updated_at": "2017-10-27T19:53:18+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "beneficiary_id": "16d351fb-94ba-4c75-b554-49c793d69459"
  })
  .reply(200, {
    "id": "48bf6096-8b17-4d9f-b8de-5a1c253f3bf8",
    "amount": "10000.00",
    "beneficiary_id": "16d351fb-94ba-4c75-b554-49c793d69459",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-ZMNZZB001",
    "conversion_id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:19+00:00",
    "updated_at": "2017-10-27T19:53:19+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/48bf6096-8b17-4d9f-b8de-5a1c253f3bf8', {
    "currency": "EUR",
    "amount": "0.23",
    "reason": "Prepayment of salary for April",
    "reference": "INVOICE 122/1",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Jens enskild firma",
    "payer_first_name": "Jennifer",
    "payer_last_name": "Waylon",
    "payer_city": "Stockholm",
    "payer_address": "22 Garvargatan",
    "payer_postcode": "12332",
    "payer_state_or_province": "Stockholm",
    "payer_country": "SE",
    "payer_date_of_birth": "1981-12-10",
    "payer_identification_type": "none",
    "conversion_id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "beneficiary_id": "16d351fb-94ba-4c75-b554-49c793d69459"
  })
  .reply(200, {
    "id": "48bf6096-8b17-4d9f-b8de-5a1c253f3bf8",
    "amount": "0.23",
    "beneficiary_id": "16d351fb-94ba-4c75-b554-49c793d69459",
    "currency": "EUR",
    "reference": "INVOICE 122/1",
    "reason": "Prepayment of salary for April",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-ZMNZZB001",
    "conversion_id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "failure_reason": "",
    "payer_id": "9a234e2f-7d25-46f5-8fcf-b473e2b5b36d",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:19+00:00",
    "updated_at": "2017-10-27T19:53:21+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .get('/v2/payments/48bf6096-8b17-4d9f-b8de-5a1c253f3bf8')
  .reply(200, {
    "id": "48bf6096-8b17-4d9f-b8de-5a1c253f3bf8",
    "amount": "0.23",
    "beneficiary_id": "16d351fb-94ba-4c75-b554-49c793d69459",
    "currency": "EUR",
    "reference": "INVOICE 122/1",
    "reason": "Prepayment of salary for April",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-ZMNZZB001",
    "conversion_id": "5c4716dc-42dd-4571-b4bf-0aa299fff928",
    "failure_reason": "",
    "payer_id": "9a234e2f-7d25-46f5-8fcf-b473e2b5b36d",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:19+00:00",
    "updated_at": "2017-10-27T19:53:21+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "5281b799-2af3-4a2d-a19c-ccbd376b0539",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-KSCDQW",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:22+00:00",
    "updated_at": "2017-10-27T19:53:22+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "4ccce6cb-7ae4-4266-bea4-dbbb0acabf84",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:23+00:00",
    "updated_at": "2017-10-27T19:53:23+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "5281b799-2af3-4a2d-a19c-ccbd376b0539",
    "beneficiary_id": "4ccce6cb-7ae4-4266-bea4-dbbb0acabf84"
  })
  .reply(200, {
    "id": "70f693a4-27fe-4ea8-b363-9d6d28928d21",
    "amount": "10000.00",
    "beneficiary_id": "4ccce6cb-7ae4-4266-bea4-dbbb0acabf84",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-KSCDQW001",
    "conversion_id": "5281b799-2af3-4a2d-a19c-ccbd376b0539",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:24+00:00",
    "updated_at": "2017-10-27T19:53:24+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .get('/v2/payments/find')
  .query({
    "conversion_id": "5281b799-2af3-4a2d-a19c-ccbd376b0539",
    "beneficiary_id": "4ccce6cb-7ae4-4266-bea4-dbbb0acabf84"
  })
  .reply(200, {
    "payments": [{
      "id": "70f693a4-27fe-4ea8-b363-9d6d28928d21",
      "amount": "10000.00",
      "beneficiary_id": "4ccce6cb-7ae4-4266-bea4-dbbb0acabf84",
      "currency": "EUR",
      "reference": "INVOICE 9876",
      "reason": "Salary for March",
      "status": "ready_to_send",
      "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
      "payment_type": "regular",
      "payment_date": "2017-10-29",
      "transferred_at": "",
      "authorisation_steps_required": "0",
      "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
      "short_reference": "151027-KSCDQW001",
      "conversion_id": "5281b799-2af3-4a2d-a19c-ccbd376b0539",
      "failure_reason": "",
      "payer_id": "e598308d-1829-430c-b3d8-662170811622",
      "payer_details_source": "payer",
      "created_at": "2017-10-27T19:53:24+00:00",
      "updated_at": "2017-10-27T19:53:24+00:00"
    }],
    "pagination": {
      "total_entries": 1,
      "total_pages": 1,
      "current_page": 1,
      "per_page": 25,
      "previous_page": -1,
      "next_page": -1,
      "order": "created_at",
      "order_asc_desc": "asc"
    }
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-BZMLHF",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:25+00:00",
    "updated_at": "2017-10-27T19:53:25+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:26+00:00",
    "updated_at": "2017-10-27T19:53:26+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "beneficiary_id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a"
  })
  .reply(200, {
    "id": "855fa573-1ace-4da2-a55b-912f10103055",
    "amount": "10000.00",
    "beneficiary_id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-BZMLHF001",
    "conversion_id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:27+00:00",
    "updated_at": "2017-10-27T19:53:28+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "0.23",
    "reason": "Prepayment of salary for April",
    "reference": "INVOICE 122/1",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Jens enskild firma",
    "payer_first_name": "Jennifer",
    "payer_last_name": "Waylon",
    "payer_city": "Stockholm",
    "payer_address": "22 Garvargatan",
    "payer_postcode": "12332",
    "payer_state_or_province": "Stockholm",
    "payer_country": "SE",
    "payer_date_of_birth": "1981-12-10",
    "payer_identification_type": "none",
    "conversion_id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "beneficiary_id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a"
  })
  .reply(200, {
    "id": "cc0933c9-0c16-467c-8a3b-2fa96b6cede3",
    "amount": "0.23",
    "beneficiary_id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a",
    "currency": "EUR",
    "reference": "INVOICE 122/1",
    "reason": "Prepayment of salary for April",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-BZMLHF002",
    "conversion_id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "failure_reason": "",
    "payer_id": "9a234e2f-7d25-46f5-8fcf-b473e2b5b36d",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:29+00:00",
    "updated_at": "2017-10-27T19:53:29+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/cc0933c9-0c16-467c-8a3b-2fa96b6cede3/delete')
  .reply(200, {
    "id": "cc0933c9-0c16-467c-8a3b-2fa96b6cede3",
    "amount": "0.23",
    "beneficiary_id": "85fd10c0-0b6d-460e-a93a-ce97108ef81a",
    "currency": "EUR",
    "reference": "INVOICE 122/1",
    "reason": "Prepayment of salary for April",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-BZMLHF002",
    "conversion_id": "1c200c1d-f53b-42eb-a4b4-f14a08d5851e",
    "failure_reason": "",
    "payer_id": "9a234e2f-7d25-46f5-8fcf-b473e2b5b36d",
    "payer_details_source": null,
    "created_at": "2017-10-27T19:53:29+00:00",
    "updated_at": "2017-10-27T19:53:29+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .get('/v2/payments/cc0933c9-0c16-467c-8a3b-2fa96b6cede3')
  .reply(404, {
    "error_code": "payment_not_found",
    "error_messages": {
      "id": [{
        "code": "payment_not_found",
        "message": "Payment was not found for this id",
        "params": {}
      }]
    }
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/conversions/create', {
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "fixed_side": "buy",
    "amount": "10000.23",
    "reason": "Settling invoices",
    "term_agreement": "true"
  })
  .reply(200, {
    "id": "4db061b0-e81a-4c03-97f5-62efe82618be",
    "settlement_date": "2017-10-29T14:00:00+00:00",
    "conversion_date": "2017-10-29T00:00:00+00:00",
    "short_reference": "20171027-ZGBRYR",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "account_id": "78618e58-da3c-447f-ad59-1796accfeff9",
    "currency_pair": "EURGBP",
    "status": "awaiting_funds",
    "buy_currency": "EUR",
    "sell_currency": "GBP",
    "client_buy_amount": "10000.23",
    "client_sell_amount": "7215.17",
    "fixed_side": "buy",
    "mid_market_rate": "0.7216",
    "core_rate": "0.7215",
    "partner_rate": "",
    "partner_status": "funds_arrived",
    "partner_buy_amount": "0.00",
    "partner_sell_amount": "0.00",
    "client_rate": "0.7215",
    "deposit_required": false,
    "deposit_amount": "0.00",
    "deposit_currency": "",
    "deposit_status": "not_required",
    "deposit_required_at": "",
    "payment_ids": [],
    "created_at": "2017-10-27T19:53:10+00:00",
    "updated_at": "2017-10-27T19:53:11+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/beneficiaries/create', {
    "bank_account_holder_name": "John Doe",
    "bank_country": "DE",
    "currency": "EUR",
    "name": "Employee Funds",
    "email": "john.doe@acme.com",
    "beneficiary_address": "23 Acacia Road",
    "beneficiary_country": "GB",
    "account_number": "13071472",
    "routing_code_type_1": "sort_code",
    "routing_code_value_1": "200605",
    "routing_code_type_2": "aba",
    "routing_code_value_2": "789",
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "bank_address": "4356 Wisteria Lane",
    "bank_name": "HSBC Bank",
    "bank_account_type": "checking",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none"
  })
  .reply(200, {
    "id": "7b2989c5-c03e-44be-8f93-612cd2e90b10",
    "bank_account_holder_name": "John Doe",
    "name": "Employee Funds",
    "email": null,
    "payment_types": ["priority", "regular"],
    "beneficiary_address": ["23 Acacia Road"],
    "beneficiary_country": "GB",
    "beneficiary_entity_type": "company",
    "beneficiary_company_name": "Some Company LLC",
    "beneficiary_first_name": "John",
    "beneficiary_last_name": "Doe",
    "beneficiary_city": "London",
    "beneficiary_postcode": "W11 2BQ",
    "beneficiary_state_or_province": "TX",
    "beneficiary_date_of_birth": "1990-07-20",
    "beneficiary_identification_type": "none",
    "beneficiary_identification_value": null,
    "bank_country": "DE",
    "bank_name": "COMMERZBANK AG",
    "bank_account_type": "checking",
    "currency": "EUR",
    "account_number": null,
    "routing_code_type_1": null,
    "routing_code_value_1": null,
    "routing_code_type_2": null,
    "routing_code_value_2": null,
    "bic_swift": "COBADEFF",
    "iban": "DE89370400440532013000",
    "default_beneficiary": "true",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "bank_address": ["KAISERSTRASSE 16", "60261 FRANKFURT AM MAIN"],
    "created_at": "2017-10-27T19:53:11+00:00",
    "updated_at": "2017-10-27T19:53:12+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .post('/v2/payments/create', {
    "currency": "EUR",
    "amount": "10000",
    "reason": "Salary for March",
    "reference": "INVOICE 9876",
    "payment_type": "regular",
    "payer_entity_type": "individual",
    "payer_company_name": "Some Company LLC",
    "payer_first_name": "John",
    "payer_last_name": "Doe",
    "payer_city": "London",
    "payer_address": "27 Colmore Row",
    "payer_postcode": "W11 2BQ",
    "payer_state_or_province": "TX",
    "payer_country": "GB",
    "payer_date_of_birth": "1980-10-10",
    "payer_identification_type": "none",
    "conversion_id": "4db061b0-e81a-4c03-97f5-62efe82618be",
    "beneficiary_id": "7b2989c5-c03e-44be-8f93-612cd2e90b10"
  })
  .reply(200, {
    "id": "ca717500-c1c2-46f1-996f-5c282a4c6db4",
    "amount": "10000.00",
    "beneficiary_id": "7b2989c5-c03e-44be-8f93-612cd2e90b10",
    "currency": "EUR",
    "reference": "INVOICE 9876",
    "reason": "Salary for March",
    "status": "ready_to_send",
    "creator_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "payment_type": "regular",
    "payment_date": "2017-10-29",
    "transferred_at": "",
    "authorisation_steps_required": "0",
    "last_updater_contact_id": "8f639ab2-2b85-4327-9eb1-01ee4f0c77bc",
    "short_reference": "151027-ZGBRYR001",
    "conversion_id": "4db061b0-e81a-4c03-97f5-62efe82618be",
    "failure_reason": "",
    "payer_id": "e598308d-1829-430c-b3d8-662170811622",
    "payer_details_source": "payer",
    "created_at": "2017-10-27T19:53:13+00:00",
    "updated_at": "2017-10-27T19:53:13+00:00"
  });

nock('https://devapi.currencycloud.com:443')
  .get('/v2/payments/ca717500-c1c2-46f1-996f-5c282a4c6db4/submission')
  .reply(200, {
    "mt103": "{1:F01TCCLGB20AXXX0090000004}{2:I103BARCGB22XXXXN}{4: :20:20160617-ZSYWVY :23B:CRED :32A:160617GBP3000,0 :33B:GBP3000,0 :50K:/150618-00026 PCOMAPNY address New-York Province 555222 GB :53B:/20060513071472 :57C://SC200605 :59:/200605000 First Name Last Name e03036bf6c325dd12c58 London GB :70:test reference Test reason Payment group: 0160617-ZSYWVY :71A:SHA -}",
    "status": "pending",
    "submission_ref": "MXGGYAGJULIIQKDV"
  });

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/conversions/create', "buy_currency=EUR&sell_currency=GBP&fixed_side=buy&amount=10000.23&reason=Settling%20invoices&term_agreement=true")
  .reply(200, {"id":"024f4bbc-6d20-486d-b3f3-844e689dbd82","settlement_date":"2018-07-18T13:00:00+00:00","conversion_date":"2018-07-18T00:00:00+00:00","short_reference":"20180716-GBWQSG","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","account_id":"9ada9453-a104-478a-b4d4-47aaa52b8710","currency_pair":"EURGBP","status":"awaiting_funds","buy_currency":"EUR","sell_currency":"GBP","client_buy_amount":"10000.23","client_sell_amount":"8057.19","fixed_side":"buy","core_rate":"0.8057","partner_rate":"","partner_status":"funds_arrived","partner_buy_amount":"0.00","partner_sell_amount":"0.00","client_rate":"0.8057","deposit_required":false,"deposit_amount":"0.00","deposit_currency":"","deposit_status":"not_required","deposit_required_at":"","payment_ids":[],"unallocated_funds":"0.00","unique_request_id":null,"created_at":"2018-07-16T09:33:06+00:00","updated_at":"2018-07-16T09:33:06+00:00","mid_market_rate":"0.8056"}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:06 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=d981d2df1371162c3728fbc179b20cba31531733586; expires=Tue, 16-Jul-19 09:33:06 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=x1newRD1dkp/7z78vDbz6ufr22l8zzKuKPaZ5umbqhXC0/MliBafjO2rUSIdyWzyKsKjjIYw+gdQa2j7Ti7Ewjv528u0FKhSwZlQf4VzO/uBldSJSBcert0I7Cn6; Expires=Mon, 23 Jul 2018 09:33:06 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '7f27e38d-35d1-4c5c-b66a-ecf351b5ec25',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b377212e970a72-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/beneficiaries/create', "bank_account_holder_name=John%20Doe&bank_country=DE&currency=EUR&name=Employee%20Funds&email=john.doe%40acme.com&beneficiary_address=23%20Acacia%20Road&beneficiary_country=GB&account_number=13071472&routing_code_type_1=sort_code&routing_code_value_1=200605&routing_code_type_2=aba&routing_code_value_2=789&bic_swift=COBADEFF&iban=DE89370400440532013000&default_beneficiary=true&bank_address=4356%20Wisteria%20Lane&bank_name=HSBC%20Bank&bank_account_type=checking&beneficiary_entity_type=company&beneficiary_company_name=Some%20Company%20LLC&beneficiary_first_name=John&beneficiary_last_name=Doe&beneficiary_city=London&beneficiary_postcode=W11%202BQ&beneficiary_state_or_province=TX&beneficiary_date_of_birth=1990-07-20&beneficiary_identification_type=none")
  .reply(200, {"id":"8d9bcd86-7483-41f6-a2fe-9bc7043a0a16","bank_account_holder_name":"John Doe","name":"Employee Funds","email":null,"payment_types":["priority","regular"],"beneficiary_address":["23 Acacia Road"],"beneficiary_country":"GB","beneficiary_entity_type":"company","beneficiary_company_name":"Some Company LLC","beneficiary_first_name":"John","beneficiary_last_name":"Doe","beneficiary_city":"London","beneficiary_postcode":"W11 2BQ","beneficiary_state_or_province":"TX","beneficiary_date_of_birth":"1990-07-20","beneficiary_identification_type":"none","beneficiary_identification_value":null,"bank_country":"DE","bank_name":"HSBC Bank","bank_account_type":"checking","currency":"EUR","account_number":null,"routing_code_type_1":null,"routing_code_value_1":null,"routing_code_type_2":null,"routing_code_value_2":null,"bic_swift":"COBADEFF","iban":"DE89370400440532013000","default_beneficiary":"true","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","bank_address":["4356 Wisteria Lane"],"created_at":"2018-07-16T09:33:07+00:00","updated_at":"2018-07-16T09:33:07+00:00","beneficiary_external_reference":null}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:07 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=d5101c5141f31435a8111cf838d9ac18a1531733586; expires=Tue, 16-Jul-19 09:33:06 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=prwdlBN1s1N1L0tdLrdlXTL7nAmLhRsHbgC6MmrqFt26G1zamhPgvSEcGF9bI4CdVwNSfVUb8wTc1DK4b9bI8uFb/mw58f0zMGMRPVD7GSYrPCODGj9wNsvVk1x4; Expires=Mon, 23 Jul 2018 09:33:06 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '4bb0d89f-640d-4289-962a-67a38bd3ecdc',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b377263f4a0a66-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/payments/create', "currency=EUR&amount=10000&reason=Salary%20for%20March&reference=INVOICE%209876&payment_type=regular&payer_entity_type=individual&payer_company_name=Some%20Company%20LLC&payer_first_name=John&payer_last_name=Doe&payer_city=London&payer_address=27%20Colmore%20Row&payer_postcode=W11%202BQ&payer_state_or_province=TX&payer_country=GB&payer_date_of_birth=1980-10-10&payer_identification_type=none&conversion_id=024f4bbc-6d20-486d-b3f3-844e689dbd82&beneficiary_id=8d9bcd86-7483-41f6-a2fe-9bc7043a0a16")
  .reply(200, {"id":"4d1f76f7-0d7f-435d-8d80-b333e8a661f3","amount":"10000.00","beneficiary_id":"8d9bcd86-7483-41f6-a2fe-9bc7043a0a16","currency":"EUR","reference":"INVOICE 9876","reason":"Salary for March","status":"awaiting_authorisation","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","payment_type":"regular","payment_date":"2018-07-18","transferred_at":"","authorisation_steps_required":"1","last_updater_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","short_reference":"180716-GBWQSG001","conversion_id":"024f4bbc-6d20-486d-b3f3-844e689dbd82","failure_reason":"","payer_id":"be3a2a8f-9094-4f32-9692-72dfee61491f","payer_details_source":"payer","created_at":"2018-07-16T09:33:08+00:00","updated_at":"2018-07-16T09:33:08+00:00","payment_group_id":null,"unique_request_id":null,"failure_returned_amount":"0.00","ultimate_beneficiary_name":null}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:08 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=dbc0f58d83c5099e44986dec446833de01531733587; expires=Tue, 16-Jul-19 09:33:07 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=dUCB86gJupnZw3pM1q2CyOsE5i/k4sKV61MK0Y5qaa6hyJbsAi7YFD0CHzkId0Txn/rOpgu7i5Agvs1p+b1JDw9OLUGfUjQ0szmrvvRGeVnmpUSauNQkR2nQ4sm0; Expires=Mon, 23 Jul 2018 09:33:07 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '82252bc7-9047-4054-8033-b7e03f05a3d6',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b37728ba1a0a6c-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/payments/authorise', "payment_ids%5B%5D=4d1f76f7-0d7f-435d-8d80-b333e8a661f3")
  .reply(200, {"authorisations":[{"payment_id":"4d1f76f7-0d7f-435d-8d80-b333e8a661f3","payment_status":"awaiting_authorisation","updated":false,"error":"You cannot authorise this Payment as it was created by you.","auth_steps_taken":0,"auth_steps_required":1,"short_reference":"180716-GBWQSG001"}]}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:08 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=d64e2c3f31dcf6e59372568945c355a301531733588; expires=Tue, 16-Jul-19 09:33:08 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=cFy55iKvmnUu4SRSnS1tTNj7aG6aZI7SMHD0BocIMWfOtnBxQDPJqrctav0uZ6UfGEGt3O100RSTn18M11dDPkRsCwZrQbKUXy5s5VzmN12QKeILr6o6qqnS6w5i; Expires=Mon, 23 Jul 2018 09:33:08 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '5f475b76-5731-4c98-9464-f18663b1a916',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b3772f1a180a66-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/conversions/create', "buy_currency=EUR&sell_currency=GBP&fixed_side=buy&amount=10000.23&reason=Settling%20invoices&term_agreement=true")
  .reply(200, {"id":"5c351336-65d7-4722-a07c-6916deb35341","settlement_date":"2018-07-18T13:00:00+00:00","conversion_date":"2018-07-18T00:00:00+00:00","short_reference":"20180716-QJGBKJ","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","account_id":"9ada9453-a104-478a-b4d4-47aaa52b8710","currency_pair":"EURGBP","status":"awaiting_funds","buy_currency":"EUR","sell_currency":"GBP","client_buy_amount":"10000.23","client_sell_amount":"8057.19","fixed_side":"buy","core_rate":"0.8057","partner_rate":"","partner_status":"funds_arrived","partner_buy_amount":"0.00","partner_sell_amount":"0.00","client_rate":"0.8057","deposit_required":false,"deposit_amount":"0.00","deposit_currency":"","deposit_status":"not_required","deposit_required_at":"","payment_ids":[],"unallocated_funds":"0.00","unique_request_id":null,"created_at":"2018-07-16T09:33:08+00:00","updated_at":"2018-07-16T09:33:08+00:00","mid_market_rate":"0.8056"}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:09 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=d35ed2e3ddd5781c77f255da21cf727601531733588; expires=Tue, 16-Jul-19 09:33:08 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=U5w3iQdQcvIoNEhmJua2lySyCf6byUBSsmO7oKNfGNy/Pw8/bZne+PHGuL70ylPobzp3niD5/e4doalZdFv3QkVJFznMRi2ZlrkOgkPjmYp0fp8KGLBMwTWNN81Q; Expires=Mon, 23 Jul 2018 09:33:08 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '946c22a0-5663-4265-9310-420bb713dcfb',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b377303c661383-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/beneficiaries/create', "bank_account_holder_name=John%20Doe&bank_country=DE&currency=EUR&name=Employee%20Funds&email=john.doe%40acme.com&beneficiary_address=23%20Acacia%20Road&beneficiary_country=GB&account_number=13071472&routing_code_type_1=sort_code&routing_code_value_1=200605&routing_code_type_2=aba&routing_code_value_2=789&bic_swift=COBADEFF&iban=DE89370400440532013000&default_beneficiary=true&bank_address=4356%20Wisteria%20Lane&bank_name=HSBC%20Bank&bank_account_type=checking&beneficiary_entity_type=company&beneficiary_company_name=Some%20Company%20LLC&beneficiary_first_name=John&beneficiary_last_name=Doe&beneficiary_city=London&beneficiary_postcode=W11%202BQ&beneficiary_state_or_province=TX&beneficiary_date_of_birth=1990-07-20&beneficiary_identification_type=none")
  .reply(200, {"id":"3342e304-1e82-4870-925f-8b8fb2df5d78","bank_account_holder_name":"John Doe","name":"Employee Funds","email":null,"payment_types":["priority","regular"],"beneficiary_address":["23 Acacia Road"],"beneficiary_country":"GB","beneficiary_entity_type":"company","beneficiary_company_name":"Some Company LLC","beneficiary_first_name":"John","beneficiary_last_name":"Doe","beneficiary_city":"London","beneficiary_postcode":"W11 2BQ","beneficiary_state_or_province":"TX","beneficiary_date_of_birth":"1990-07-20","beneficiary_identification_type":"none","beneficiary_identification_value":null,"bank_country":"DE","bank_name":"HSBC Bank","bank_account_type":"checking","currency":"EUR","account_number":null,"routing_code_type_1":null,"routing_code_value_1":null,"routing_code_type_2":null,"routing_code_value_2":null,"bic_swift":"COBADEFF","iban":"DE89370400440532013000","default_beneficiary":"true","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","bank_address":["4356 Wisteria Lane"],"created_at":"2018-07-16T09:33:09+00:00","updated_at":"2018-07-16T09:33:09+00:00","beneficiary_external_reference":null}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:09 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=df6943bd145281a125596ce1d92ce51161531733589; expires=Tue, 16-Jul-19 09:33:09 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=zoTmYDnj4kYE/W+BJJlDvV4+Nx8ykwRh2U141/K/zyUoZKJEOxEOYb/jMRC8OtMBE5Hlz4niQR9yXdCV/zTxwn1amQDXvGPb7pWaVgKIVMhw8Lu0Xp1jijvC4aPi; Expires=Mon, 23 Jul 2018 09:33:09 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  'd94531a2-6141-4977-bb2c-95856352065d',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b37734ea3e06c4-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/payments/create', "currency=EUR&amount=10000&reason=Salary%20for%20March&reference=INVOICE%209876&payment_type=regular&payer_entity_type=individual&payer_company_name=Some%20Company%20LLC&payer_first_name=John&payer_last_name=Doe&payer_city=London&payer_address=27%20Colmore%20Row&payer_postcode=W11%202BQ&payer_state_or_province=TX&payer_country=GB&payer_date_of_birth=1980-10-10&payer_identification_type=none&conversion_id=5c351336-65d7-4722-a07c-6916deb35341&beneficiary_id=3342e304-1e82-4870-925f-8b8fb2df5d78")
  .reply(200, {"id":"24cc52b6-939e-456c-a078-6c6f47e5aec1","amount":"10000.00","beneficiary_id":"3342e304-1e82-4870-925f-8b8fb2df5d78","currency":"EUR","reference":"INVOICE 9876","reason":"Salary for March","status":"awaiting_authorisation","creator_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","payment_type":"regular","payment_date":"2018-07-18","transferred_at":"","authorisation_steps_required":"1","last_updater_contact_id":"871b9f2f-f8a3-4010-b084-43e48ab4f404","short_reference":"180716-QJGBKJ001","conversion_id":"5c351336-65d7-4722-a07c-6916deb35341","failure_reason":"","payer_id":"be3a2a8f-9094-4f32-9692-72dfee61491f","payer_details_source":"payer","created_at":"2018-07-16T09:33:10+00:00","updated_at":"2018-07-16T09:33:10+00:00","payment_group_id":null,"unique_request_id":null,"failure_returned_amount":"0.00","ultimate_beneficiary_name":null}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:10 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=d83292eda96deedd76ca1e01ecf7378e41531733589; expires=Tue, 16-Jul-19 09:33:09 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=1Im7dBKzhzFmz7D5BXZKZF2gribsaFsP9n06uDUxUGXdRQHDVB94LhFjRQEUSMJuzxIXUYqXx8Y7Rqz5O/hP8aWyZVW62C8vC6gGEDYRN7v7cWxt5fvGg6fAc0C1; Expires=Mon, 23 Jul 2018 09:33:09 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '71ec991c-501c-4562-9cce-9e0dc324e21b',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b377376e4f137d-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/authenticate/api', "login_id=development%2Bauthorisation2%40currencycloud.com&api_key=deadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef")
  .reply(200, {"auth_token":"9ffb158951b3ef0d9e9bb84388f0e9fe"}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:12 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=dcb60b87b15515d3190cf9c3e4e5edbf51531733590; expires=Tue, 16-Jul-19 09:33:10 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=cxz0L4ihgnYAkjrdSoGSKuri24nDCNvKuTKqVLivi7KUlSiEkyg+QTxNcYmvs3HXKB9E6YGYeEoosSxiNri5sdfLNp08Z5JNtMF/9uKRwjD82pDI+Ix5n8V3QfEZ; Expires=Mon, 23 Jul 2018 09:33:10 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '43ee4131-369c-4a50-b707-29b084b16697',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b3773d7f6d0a8a-LHR' ]);

nock('https://devapi.currencycloud.com:443', {"encodedQueryParams":true})
  .post('/v2/payments/authorise', "payment_ids%5B%5D=24cc52b6-939e-456c-a078-6c6f47e5aec1")
  .reply(200, {"authorisations":[{"payment_id":"24cc52b6-939e-456c-a078-6c6f47e5aec1","payment_status":"authorised","updated":true,"error":null,"auth_steps_taken":1,"auth_steps_required":1,"short_reference":"180716-QJGBKJ001"}]}, [ 'Date',
  'Mon, 16 Jul 2018 09:33:12 GMT',
  'Content-Type',
  'application/json;charset=utf-8',
  'Transfer-Encoding',
  'chunked',
  'Connection',
  'close',
  'Set-Cookie',
  '__cfduid=df5527d5af10083f73a4352f4302fcb381531733592; expires=Tue, 16-Jul-19 09:33:12 GMT; path=/; domain=.currencycloud.com; HttpOnly',
  'Set-Cookie',
  'AWSALB=n4zD8NTy2FG/6dAWStJgbaYTMrmaoqsusnVojkpuCqkPISpRMsXPoKPubKx+uT5/wP0xcDMl1xb6UtnXKKjdcmvcPuW0R/4qf8xJh4tOsfAs7hLyDfw4YZOk1Lgi; Expires=Mon, 23 Jul 2018 09:33:12 GMT; Path=/',
  'Access-Control-Allow-Origin',
  '*',
  'X-Request-Id',
  '0a3e7bf6-a069-4f21-b835-579fcd9de8f1',
  'Access-Control-Allow-Methods',
  'POST',
  'X-Content-Type-Options',
  'nosniff',
  'Vary',
  'Origin',
  'Access-Control-Allow-Headers',
  'authorization,Access-Control-Allow-Origin,Content-Type,SOAPAction,X-Auth-Token,Origin,Authority',
  'Expect-CT',
  'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
  'Server',
  'cloudflare',
  'CF-RAY',
  '43b377481b730a8a-LHR' ]);

nock('https://devapi.currencycloud.com:443')
  .post('/v2/authenticate/close_session')
  .reply(200, {});
